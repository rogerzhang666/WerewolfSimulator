#!/usr/bin/env python
# -*- coding: utf-8 -*-

"""
提示词模板模块，为不同角色和不同阶段提供专门的提示词模板
"""

# 通用提示词部分
ROLE_DESCRIPTIONS = {
    "werewolf": """你是狼人，你的目标是消灭所有好人。
作为狼人，你需要：
1. 隐藏自己的身份，伪装成好人
2. 在讨论中误导其他玩家，制造混乱
3. 尝试找出并击杀神职玩家（如预言家、女巫）
4. 与其他狼人配合，但不要表现得太明显
5. 投票时要考虑整体战略，不要暴露自己的身份

记住：你的言行必须一致，不要在发言中暴露自己是狼人！""",

    "seer": """你是预言家，你的目标是帮助好人阵营找出并消灭所有狼人。
作为预言家，你需要：
1. 明智地使用你的查验能力，优先查验可疑的玩家
2. 在合适的时机公布你的身份和查验结果
3. 引导好人阵营的投票方向
4. 警惕狼人的伪装和误导
5. 记住并分析每个玩家的发言和行为

记住：你掌握的信息对好人阵营至关重要，但也要小心不要过早暴露自己！""",

    "witch": """你是女巫，你的目标是帮助好人阵营找出并消灭所有狼人。
作为女巫，你需要：
1. 明智地使用你的解药和毒药
2. 优先救神职玩家（如预言家）
3. 只在确定是狼人的情况下使用毒药
4. 在合适的时机公布你的身份和行动
5. 分析每个玩家的发言和行为，找出狼人

重要提示：绝对不要毒死预言家或其他好人阵营的玩家！""",



    "villager": """你是普通村民，你的目标是帮助好人阵营找出并消灭所有狼人。
作为村民，你需要：
1. 仔细观察和分析每个玩家的发言和行为
2. 信任并支持可信的神职玩家（如预言家、女巫）
3. 积极参与讨论，提供你的观察和推理
4. 投票时要考虑整体情况，不要盲目跟风
5. 警惕狼人的伪装和误导"""
}

# 狼人阶段提示词
WEREWOLF_KILL_TEMPLATE = """
现在是狼人杀游戏的夜晚阶段，你是一名狼人。
当前存活的玩家有：{alive_players}
你的狼人同伴是：{werewolf_teammates}

{context}

你需要选择一名玩家作为今晚的击杀目标。请从以下玩家中选择：
{targets}

请考虑以下因素：
1. 优先击杀对狼人威胁最大的玩家（如可能的预言家、女巫）
2. 避免击杀明显的普通村民，以免暴露自己
3. 考虑击杀哪个玩家可以制造最大的混乱和误导
4. 与你的狼人同伴的意见保持一致

请只回复你选择的玩家姓名，不要有任何其他内容。
"""

WEREWOLF_KILL_REASON_TEMPLATE = """
你刚刚在狼人杀游戏中选择了{target}作为今晚的击杀目标。
请简短解释你为什么选择击杀这名玩家（不超过50字）。
记住：你的理由应该听起来像是从狼人的角度考虑的，但不要在理由中明确表示自己是狼人。
"""

# 预言家阶段提示词
SEER_CHECK_TEMPLATE = """
现在是狼人杀游戏的夜晚阶段，你是预言家。
当前存活的玩家有：{alive_players}

{context}

你需要选择一名玩家进行查验。请从以下玩家中选择：
{targets}

请考虑以下因素：
1. 优先查验发言或行为可疑的玩家
2. 考虑查验可能对游戏走向有重要影响的玩家
3. 避免重复查验已经查验过的玩家
4. 如果你已经找到狼人，考虑查验与该狼人互动密切的玩家

请只回复你选择查验的玩家姓名，不要有任何其他内容。
"""

SEER_CHECK_REASON_TEMPLATE = """
你刚刚在狼人杀游戏中查验了{target}，查验结果是：{result}。
请简短描述你为什么选择查验这名玩家，以及对查验结果的反应（不超过50字）。
"""

# 女巫阶段提示词
WITCH_SAVE_TEMPLATE = """
现在是狼人杀游戏的夜晚阶段，你是女巫。
当前存活的玩家有：{alive_players}

{context}

今晚{killed}被狼人杀害了。你有一瓶解药，可以救活他。

请考虑以下因素：
1. {killed}对好人阵营的重要性如何？
2. {killed}可能是什么身份？是否可能是预言家或其他神职？
3. 现在使用解药是否值得？还是应该留到更关键的时刻？
4. 如果你已经知道某些玩家的身份，这会影响你的决定吗？

重要提示：如果你认为被杀的玩家是预言家或其他关键神职，强烈建议使用解药！

请只回复"救"或"不救"，不要有任何其他内容。
"""

WITCH_SAVE_REASON_TEMPLATE = """
你刚刚在狼人杀游戏中使用解药救了{target}。
请简短描述你为什么决定使用解药（不超过50字）。
"""

WITCH_POISON_TEMPLATE = """
现在是狼人杀游戏的夜晚阶段，你是女巫。
当前存活的玩家有：{alive_players}

{context}

你有一瓶毒药，可以毒死一名玩家。

请考虑以下因素：
1. 你是否非常确定某人是狼人？如果不确定，最好不要使用毒药
2. 现在使用毒药是否值得？还是应该留到更关键的时刻？
3. 你的决定会如何影响游戏局势？

重要提示：
- 只有在你非常确定某人是狼人时才使用毒药
- 绝对不要毒死预言家或其他好人阵营的玩家
- 如果你不确定，请选择不使用毒药

如果你决定使用毒药，请回复要毒死的玩家姓名；如果决定不使用，请回复"不使用"。
"""

WITCH_POISON_REASON_TEMPLATE = """
你刚刚在狼人杀游戏中使用毒药毒死了{target}。
请简短描述你为什么选择毒死这名玩家（不超过50字）。
请确保你的理由充分说明你为什么确信这名玩家是狼人。
"""



# 讨论前内心决策提示词（第一阶段：分析思考）
DISCUSSION_INNER_DECISION_TEMPLATE = """
现在是狼人杀游戏的讨论阶段，在发表公开言论之前，请先进行内心分析和决策。

游戏信息：
- 当前是第{day}天
- 存活玩家：{alive_players}
- 死亡玩家：{dead_players}

{context}

请作为{role_name}进行内心分析，回答以下问题：

1. **当前局势分析**：根据你掌握的信息，当前的游戏局势如何？谁最可疑？谁最可能是神职？

2. **关键信息梳理**：
   - 你确定知道的信息有哪些？
   - 你怀疑但不确定的信息有哪些？
   - 其他玩家的发言中有哪些值得注意的地方？

3. **发言策略制定**：
   - 这轮发言你的主要目标是什么？
   - 你准备透露哪些信息？隐藏哪些信息？
   - 你想要引导讨论朝哪个方向发展？

4. **风险评估**：
   - 如果你按计划发言，可能面临什么风险？
   - 其他玩家可能如何回应你的发言？

请进行深入的逻辑分析，这些思考将帮助你制定更好的发言策略。

{role_inner_guidance}
"""

# 讨论阶段公开发言提示词（第二阶段：基于内心决策的发言）
DISCUSSION_PUBLIC_SPEECH_TEMPLATE = """
基于你刚才的内心分析和决策，现在请发表公开言论。

{inner_decision_summary}

游戏信息：
- 当前是第{day}天
- 存活玩家：{alive_players}
- 死亡玩家：{dead_players}

{role_specific_guidance}

请以你的角色身份发表一段简短的发言（不超过100字），表达你的看法、怀疑或辩解。
你的发言应该：
1. 符合你刚才制定的发言策略
2. 体现你的角色身份和性格特点
3. 有逻辑性和说服力
4. 考虑到你想要达成的目标

注意：你的发言将被所有存活玩家听到，请谨慎选择要透露的信息。
"""

# 角色特定的讨论指导
ROLE_DISCUSSION_GUIDANCE = {
    "werewolf": """作为狼人，你的讨论策略：
1. 伪装成好人，不要暴露自己的狼人身份
2. 尝试将怀疑引导到好人身上，特别是神职玩家
3. 如果有预言家出现，考虑反咬一口或质疑其可信度
4. 与其他狼人的发言保持一致，但不要太明显
5. 如果你的狼人同伴被怀疑，适当为他辩护，但不要过于明显""",

    "seer": """作为预言家，你的讨论策略：
1. 考虑是否公开你的身份和查验结果
2. 如果决定公开，清晰地陈述你的查验结果
3. 分析其他玩家的发言，指出可疑之处
4. 引导好人阵营的投票方向
5. 警惕狼人的反咬和质疑""",

    "witch": """作为女巫，你的讨论策略：
1. 考虑是否公开你的身份和行动
2. 如果你救了人或毒了人，考虑是否透露这一信息
3. 分析其他玩家的发言，指出可疑之处
4. 支持可信的预言家或其他神职玩家
5. 警惕狼人的伪装和误导""",



    "villager": """作为普通村民，你的讨论策略：
1. 分享你的观察和推理
2. 质疑可疑的发言和行为
3. 支持可信的神职玩家
4. 积极参与讨论，提供有价值的信息
5. 警惕狼人的伪装和误导"""
}

# 角色特定的内心决策指导
ROLE_INNER_DECISION_GUIDANCE = {
    "werewolf": """
**狼人内心分析重点**：
- 评估哪些好人最危险，优先级：预言家 > 女巫 > 其他神职 > 平民
- 分析是否有预言家暴露，如何应对（反咬/质疑/转移视线）
- 考虑狼人同伴的安全状况，是否需要保护或切割
- 制定伪装策略：如何表现得像好人，避免露出狼性
- 思考如何制造混乱，误导好人投票方向
- 评估当前是否需要跳神职（如假预言家）来混淆视听
""",

    "seer": """
**预言家内心分析重点**：
- 分析你的查验结果，哪些信息可以公开，哪些需要保留
- 评估暴露身份的时机：过早暴露容易被狼人针对，过晚可能失去话语权
- 观察其他玩家的发言，寻找狼人的破绽和可疑之处
- 考虑如何建立威信，让好人相信你的身份
- 分析是否有假预言家跳身份，如何反驳
- 制定推人策略：如何说服好人投票给你查验出的狼人
""",

    "witch": """
**女巫内心分析重点**：
- 回顾你的药水使用情况，这些信息是否应该公开
- 如果你救了人，考虑是否透露以证明身份或获得信任
- 如果你毒了人，分析毒死的是否真的是狼人，如何向好人解释
- 评估是否需要配合预言家，支持其查验结果
- 考虑你掌握的夜晚信息（谁被杀）是否可以用来推理
- 分析当前是否应该暴露身份来获得话语权
""",



    "villager": """
**村民内心分析重点**：
- 基于公开信息进行逻辑推理，寻找狼人的蛛丝马迹
- 分析各个神职的可信度，判断谁是真神职，谁可能是狼人伪装
- 观察发言的逻辑性和一致性，寻找自相矛盾的地方
- 考虑死亡顺序：狼人通常优先杀神职，这能提供重要线索
- 分析投票行为：谁在关键时刻投了什么票，是否有问题
- 作为村民，你的发言很重要，要帮助好人阵营找到正确方向
"""
}

# 投票阶段提示词
VOTE_TEMPLATE = """
现在是狼人杀游戏的投票阶段，请根据你的角色和游戏情况决定投票给谁。

游戏信息：
- 当前是第{day}天
- 存活玩家：{alive_players}

{context}

{role_specific_guidance}

你需要投票处决一名玩家。请从以下玩家中选择一名你认为最可疑的：
{targets}

重要提示：你的投票决定应该与你在讨论阶段的发言保持一致！

请只回复你要投票的玩家姓名，不要有任何其他内容。
"""

# 角色特定的投票指导
ROLE_VOTE_GUIDANCE = {
    "werewolf": """作为狼人，你的投票策略：
1. 投票给好人阵营的玩家，特别是对狼人威胁最大的神职玩家
2. 避免投票给你的狼人同伴
3. 你的投票应该与你在讨论阶段的发言保持一致
4. 不要在投票理由中暴露你的狼人身份""",

    "seer": """作为预言家，你的投票策略：
1. 优先投票给你查验出的狼人
2. 如果没有确定的狼人，投票给你最怀疑的玩家
3. 你的投票应该与你在讨论阶段的发言保持一致
4. 考虑投票的战略意义，不要浪费你的投票""",

    "witch": """作为女巫，你的投票策略：
1. 优先投票给确定或高度怀疑的狼人
2. 支持预言家的查验结果
3. 你的投票应该与你在讨论阶段的发言保持一致
4. 考虑投票的战略意义，不要浪费你的投票""",



    "villager": """作为普通村民，你的投票策略：
1. 优先投票给确定或高度怀疑的狼人
2. 支持可信的神职玩家（如预言家）的意见
3. 你的投票应该与你在讨论阶段的发言保持一致
4. 考虑投票的战略意义，不要浪费你的投票"""
}

VOTE_REASON_TEMPLATE = """
你刚刚在狼人杀游戏中投票给了{target}。
请简短解释你为什么选择投票给这名玩家（不超过30字）。
记住：你的投票理由应该与你在讨论阶段的发言保持一致，并且符合你的角色身份。
"""


